<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="assets/styles/main.css">

    <!-- favicon extra stuffs from favicon generator-->
    <link rel="icon" type="image/png" href="assets/images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg" />
    <link rel="shortcut icon" href="assets/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/images/site.webmanifest" />
    
  </head>
  
  <script src="/assets/scripts/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <body>
    <main id="container">

      <section id="code">
                <pre><code>
             async fn run_server() -> Result<(), Box<dyn std::error::Error + Send + Sync>> {
                 // First parameter is port number (optional, defaults to 7331)
                 let port = match env::args().nth(1) {
                     Some(ref p) => p.to_owned(),
                     None => "7331".to_owned(),
                 };
                 let addr = format!("127.0.0.1:{}", port).parse()?;

                 // Load public certificate.
                 let certs = load_certs("examples/sample.pem")?;
                 // Load private key.
                 let key = load_private_key("examples/sample.rsa")?;
                 // Build TLS configuration.
                 let acceptor: TlsAcceptor = build_tls_acceptor(certs, key, addr);

                 // Create a TCP listener via tokio.
                 let incoming = AddrIncoming::bind(&addr)?;
                 let acceptor = TlsAcceptor::builder()
                     .with_single_cert(certs, key)
                     .map_err(|e| error(format!("{}", e)))?
                     .with_all_versions_alpn()
                     .with_incoming(incoming);
                 
                 let service = make_service_fn(|_| async { Ok::<_, io::Error>(service_fn(echo)) });
                 let server = Server::builder(acceptor).serve(service);
                 
                 // Run the future, keep going until an error occurs.
                 println!("Starting to serve on https://{}.", addr);
                 server.await?;
                 Ok(())
             }
          </code></pre>

      </section>

      <section id="quick-links" class="small-section">
        <ul>
          <li><a href="https://github.com/alex0112/yggdrasil/blob/master/client/src/components/tree.jsx">Wiki Yggdrasil</a></li>
          <li><a href="https://github.com/alex0112/yggdrasil/blob/master/client/src/components/tree.jsx">Wiki Yggdrasil</a></li>
          <li><a href="https://github.com/alex0112/yggdrasil/blob/master/client/src/components/tree.jsx">Wiki Yggdrasil</a></li>
        </ul>
      </section>

      <section id="url-form" class="small-section">
        <form>
          <label for="url-input">Enter a Github File URL</label>
          <input name="url-input" id="url-input" type="url" placeholder="https://github.com/BurntSushi/ripgrep/blob/master/crates/cli/src/pattern.rs" required />
          <button form="url-form" formaction="validateGitHubURL()">Go</button>
        </form>
      </section>

    </main>
  </body>
</html>
